(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-6ebd"],{GoIK:function(e,t,s){"use strict";var i=s("Ppk6");s.n(i).a},NAw2:function(e,t,s){},Ppk6:function(e,t,s){},RxE9:function(e,t,s){"use strict";var i=s("tuOI");s.n(i).a},Spxf:function(e,t,s){"use strict";var i=s("cy7/");s.n(i).a},Y5bG:function(e,t,s){"use strict";s.d(t,"a",function(){return n}),Math.easeInOutQuad=function(e,t,s,i){return(e/=i/2)<1?s/2*e*e+t:-s/2*(--e*(e-2)-1)+t};var i=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)};function n(e,t,s){var n=document.documentElement.scrollTop||document.body.parentNode.scrollTop||document.body.scrollTop,a=e-n,r=0;t=void 0===t?500:t;!function e(){r+=20,function(e){document.documentElement.scrollTop=e,document.body.parentNode.scrollTop=e,document.body.scrollTop=e}(Math.easeInOutQuad(r,n,a,t)),r<t?i(e):s&&"function"==typeof s&&s()}()}},"cy7/":function(e,t,s){},nIRs:function(e,t,s){"use strict";s.r(t);var i=s("ppKh"),n={name:"system_intellect_setting",data:function(){return{loading:!1,setting:null}},computed:{},mounted:function(){this.getPrinter()},methods:{getPrinter:function(){var e=this;this.loading=!0,Object(i.d)().then(function(t){e.loading=!1,e.setting=t.success.data})},savePrinter:function(){var e=this;Object(i.f)(this.setting).then(function(t){console.log(t),e.$message({message:"保存成功！",type:"success"})})}}},a=(s("Spxf"),s("ZrdR")),r=Object(a.a)(n,function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"app-container system-intellect-setting-page"},[e.setting?s("div",{staticClass:"intellect-box",attrs:{gutter:10}},[s("div",{staticClass:"print-list"},[s("div",{staticClass:"print-content"},[s("div",{staticClass:"print-inner"},[s("h3",{directives:[{name:"show",rawName:"v-show",value:e.setting.is_store_name,expression:"setting.is_store_name"}],staticClass:"store_name"},[e._v("中医理疗店")]),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:e.setting.is_card_no||e.setting.is_member||e.setting.is_trade_time||e.setting.is_operator,expression:"setting.is_card_no ||setting.is_member || setting.is_trade_time || setting.is_operator"}],staticClass:"top-setting common-setting"},[s("span",{directives:[{name:"show",rawName:"v-show",value:e.setting.is_card_no,expression:"setting.is_card_no"}]},[e._v("订单编号: NO13456738443")]),e._v(" "),s("span",{directives:[{name:"show",rawName:"v-show",value:e.setting.is_member,expression:"setting.is_member"}]},[e._v("会员: 小灰灰 138****438")]),e._v(" "),s("span",{directives:[{name:"show",rawName:"v-show",value:e.setting.is_trade_time,expression:"setting.is_trade_time"}]},[e._v("交易时间: 2018/12/10 13:20")]),e._v(" "),s("span",{directives:[{name:"show",rawName:"v-show",value:e.setting.is_operator,expression:"setting.is_operator"}]},[e._v("收银人员: 胖龙猫")])]),e._v(" "),s("ul",{directives:[{name:"show",rawName:"v-show",value:e.setting.is_statement,expression:"setting.is_statement"}],staticClass:"detail-setting common-setting"},[e._m(0),e._v(" "),e._m(1),e._v(" "),e._m(2)]),e._v(" "),s("ul",{directives:[{name:"show",rawName:"v-show",value:e.setting.is_statement,expression:"setting.is_statement"}],staticClass:"summary-setting common-setting"},[e._m(3),e._v(" "),e._m(4),e._v(" "),e._m(5),e._v(" "),e._m(6)]),e._v(" "),s("ul",{staticClass:"summary-setting common-setting"},[s("li",{directives:[{name:"show",rawName:"v-show",value:e.setting.is_staff,expression:"setting.is_staff"}]},[s("span",[e._v("服务人员")]),s("span",[e._v("小灰灰、胖龙猫")])]),e._v(" "),[e._m(7),e._v(" "),e._m(8)]],2),e._v(" "),s("ul",{directives:[{name:"show",rawName:"v-show",value:e.setting.is_card_balance,expression:"setting.is_card_balance"}],staticClass:"summary-setting common-setting"},[s("li",{directives:[{name:"show",rawName:"v-show",value:e.setting.is_point,expression:"setting.is_point"}]},[s("span",[e._v("卡内余额")]),s("span")]),e._v(" "),e._m(9),e._v(" "),e._m(10)]),e._v(" "),s("ul",{staticClass:"bottom-setting"},[s("li",{directives:[{name:"show",rawName:"v-show",value:e.setting.is_point,expression:"setting.is_point"}]},[s("span",[e._v("本次积分：1000")]),s("span")]),e._v(" "),s("li",{directives:[{name:"show",rawName:"v-show",value:e.setting.is_all_point,expression:"setting.is_all_point"}]},[s("span",[e._v("总积分：1000")]),s("span")]),e._v(" "),s("li",{directives:[{name:"show",rawName:"v-show",value:e.setting.is_store_tel,expression:"setting.is_store_tel"}]},[s("span",[e._v("门店电话：043-667876459")]),s("span")]),e._v(" "),s("li",{directives:[{name:"show",rawName:"v-show",value:e.setting.is_address,expression:"setting.is_address"}]},[s("span",[e._v("地址：台湾省台北中山区八德路二段232-234号")]),s("span")]),e._v(" "),s("li",{directives:[{name:"show",rawName:"v-show",value:e.setting.is_member_remark,expression:"setting.is_member_remark"}]},[s("span",[e._v("会员备注：")])]),e._v(" "),s("li",{directives:[{name:"show",rawName:"v-show",value:e.setting.is_order_remark,expression:"setting.is_order_remark"}]},[s("span",[e._v("单据备注：")])]),e._v(" "),s("li",{directives:[{name:"show",rawName:"v-show",value:e.setting.is_member_sign,expression:"setting.is_member_sign"}]},[s("span",[e._v("顾客签字：")])])]),e._v(" "),s("div",{staticClass:"footer-setting"},[e._v(e._s(e.setting.footer_content))])])])]),e._v(" "),s("div",{staticClass:"setting-config"},[s("el-form",{ref:"form",attrs:{"label-width":"80px"}},[s("el-form-item",{attrs:{label:"头部打印"}},[s("el-checkbox",{attrs:{label:"店铺名称"},model:{value:e.setting.is_store_name,callback:function(t){e.$set(e.setting,"is_store_name",t)},expression:"setting.is_store_name"}}),e._v(" "),s("el-checkbox",{attrs:{label:"订单编号"},model:{value:e.setting.is_card_no,callback:function(t){e.$set(e.setting,"is_card_no",t)},expression:"setting.is_card_no"}}),e._v(" "),s("el-checkbox",{attrs:{label:"交易时间"},model:{value:e.setting.is_trade_time,callback:function(t){e.$set(e.setting,"is_trade_time",t)},expression:"setting.is_trade_time"}}),e._v(" "),s("el-checkbox",{attrs:{label:"会员"},model:{value:e.setting.is_member,callback:function(t){e.$set(e.setting,"is_member",t)},expression:"setting.is_member"}}),e._v(" "),s("el-checkbox",{attrs:{label:"收银人员"},model:{value:e.setting.is_operator,callback:function(t){e.$set(e.setting,"is_operator",t)},expression:"setting.is_operator"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"账单明细"}},[s("el-radio-group",{model:{value:e.setting.is_statement,callback:function(t){e.$set(e.setting,"is_statement",t)},expression:"setting.is_statement"}},[s("el-radio",{attrs:{label:!0}},[e._v("显示")]),e._v(" "),s("el-radio",{attrs:{label:!1}},[e._v("不显示")])],1)],1),e._v(" "),s("el-form-item",{attrs:{label:"打印明细"}},[s("el-checkbox",{attrs:{label:"服务人员"},model:{value:e.setting.is_staff,callback:function(t){e.$set(e.setting,"is_staff",t)},expression:"setting.is_staff"}}),e._v(" "),s("el-checkbox",{attrs:{label:"卡内余额"},model:{value:e.setting.is_card_balance,callback:function(t){e.$set(e.setting,"is_card_balance",t)},expression:"setting.is_card_balance"}}),e._v(" "),s("el-checkbox",{attrs:{label:"本次积分"},model:{value:e.setting.is_point,callback:function(t){e.$set(e.setting,"is_point",t)},expression:"setting.is_point"}}),e._v(" "),s("el-checkbox",{attrs:{label:"总积分"},model:{value:e.setting.is_all_point,callback:function(t){e.$set(e.setting,"is_all_point",t)},expression:"setting.is_all_point"}}),e._v(" "),s("el-checkbox",{attrs:{label:"支付方式"},model:{value:e.setting.is_payway,callback:function(t){e.$set(e.setting,"is_payway",t)},expression:"setting.is_payway"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"底部打印"}},[s("el-checkbox",{attrs:{label:"电话"},model:{value:e.setting.is_store_tel,callback:function(t){e.$set(e.setting,"is_store_tel",t)},expression:"setting.is_store_tel"}}),e._v(" "),s("el-checkbox",{attrs:{label:"地址"},model:{value:e.setting.is_address,callback:function(t){e.$set(e.setting,"is_address",t)},expression:"setting.is_address"}}),e._v(" "),s("el-checkbox",{attrs:{label:"会员备注"},model:{value:e.setting.is_member_remark,callback:function(t){e.$set(e.setting,"is_member_remark",t)},expression:"setting.is_member_remark"}}),e._v(" "),s("el-checkbox",{attrs:{label:"单据备注"},model:{value:e.setting.is_order_remark,callback:function(t){e.$set(e.setting,"is_order_remark",t)},expression:"setting.is_order_remark"}}),e._v(" "),s("el-checkbox",{attrs:{label:"顾客签字"},model:{value:e.setting.is_member_sign,callback:function(t){e.$set(e.setting,"is_member_sign",t)},expression:"setting.is_member_sign"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"页脚内容"}},[s("el-input",{staticClass:"footer-content",model:{value:e.setting.footer_content,callback:function(t){e.$set(e.setting,"footer_content",t)},expression:"setting.footer_content"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"打印方式"}},[s("el-radio-group",{model:{value:e.setting.printer_type,callback:function(t){e.$set(e.setting,"printer_type",t)},expression:"setting.printer_type"}},[s("el-radio",{attrs:{label:1}},[e._v("结账前打印")]),e._v(" "),s("el-radio",{attrs:{label:2}},[e._v("结账后打印")]),e._v(" "),s("el-radio",{attrs:{label:0}},[e._v("不打印")])],1)],1),e._v(" "),s("el-form-item",{attrs:{label:"打印份数"}},[s("el-input",{staticClass:"printer-num",model:{value:e.setting.printer_num,callback:function(t){e.$set(e.setting,"printer_num",t)},expression:"setting.printer_num"}})],1),e._v(" "),s("el-form-item",[s("el-button",{attrs:{type:"primary"},on:{click:e.savePrinter}},[e._v("保存")])],1)],1)],1)]):e._e()])},[function(){var e=this.$createElement,t=this._self._c||e;return t("li",[t("span",[this._v("推拿服务 "),t("br"),this._v("×1")]),this._v(" "),t("span",[this._v("¥2,300.00")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("li",[t("span",[this._v("推拿服务 "),t("br"),this._v("×1")]),this._v(" "),t("span",[this._v("¥1,200.00")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("li",[t("span",[this._v("推拿服务 "),t("br"),this._v("×1")]),this._v(" "),t("span",[this._v("¥800.00")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("li",[t("span",[this._v("总价")]),t("span",[this._v("¥4300.00")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("li",[t("span",[this._v("折扣")]),t("span",[this._v("-¥40.00")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("li",[t("span",[this._v("应收")]),t("span",[this._v("¥4300.00")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("li",[t("span",[this._v("实收")]),t("span",[this._v("¥4260.00")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("li",[t("span",[this._v("支付方式")]),t("span")])},function(){var e=this.$createElement,t=this._self._c||e;return t("li",[t("span",[this._v("储值卡")]),t("span",[this._v("¥4260.00")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("li",[t("span",[this._v("名称")]),t("span",[this._v("计次卡/储值卡/会员余额")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("li",[t("span",[this._v("剩余次数/剩余余额")]),t("span",[this._v("10/¥4260.00")])])}],!1,null,"5a3ab3c0",null);r.options.__file="setting.vue";var o=r.exports,l=s("Mz3J"),c={name:"add_machine",props:{show:{type:Boolean,default:!1},staff_list:Array,cate_list:Array,data:Object},data:function(){return{loading:!1,visible:this.show,form:{time:new Date},rules:{name:[{required:!0,message:"请输入打印机名称",trigger:"blur"}],printer_no:[{required:!0,message:"请输入编号",trigger:"blur"}],printer_code:[{required:!0,message:"请输入识别码",trigger:"blur"}]}}},computed:{},mounted:function(){this.data&&(this.data.card_num=this.data.card_num||"",this.form=this.data)},methods:{onSubmit:function(){var e=this;this.$refs.machineForm.validate(function(t){t&&Object(i.a)(e.form).then(function(){e.$emit("updateList"),e.visible=!1,e.$message({message:e.data?"编辑成功":"新增成功",type:"success"})})})}},beforeDestroy:function(){this.form=null},filters:{},watch:{show:function(){this.visible=this.show},"form.time":function(){"string"==typeof this.form.time&&(this.form.time=new Date(this.form.time))}}},m=(s("skFf"),Object(a.a)(c,function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("el-dialog",{staticClass:"system-machine-dialog",attrs:{title:e.data?"编辑打印机":"新增打印机",width:"770px",visible:e.visible,show:e.show},on:{"update:visible":function(t){e.visible=t},close:function(t){e.$emit("update:show",!1)}}},[s("el-scrollbar",{staticClass:"scrollbar"},[s("el-form",{ref:"machineForm",attrs:{model:e.form,rules:e.rules,"label-width":"80px"}},[s("el-form-item",{attrs:{label:"名称",prop:"name"}},[s("el-input",{attrs:{type:"text",placeholder:"请输入打印机名称"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"编号",prop:"printer_no"}},[s("el-input",{attrs:{type:"text",placeholder:"请输入编号"},model:{value:e.form.printer_no,callback:function(t){e.$set(e.form,"printer_no",t)},expression:"form.printer_no"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"识别码",prop:"printer_code"}},[s("el-input",{attrs:{type:"text",placeholder:"请输入识别码"},model:{value:e.form.printer_code,callback:function(t){e.$set(e.form,"printer_code",t)},expression:"form.printer_code"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"流量卡号"}},[s("el-input",{attrs:{type:"text",placeholder:"请输入流量卡号"},model:{value:e.form.card_num,callback:function(t){e.$set(e.form,"card_num",t)},expression:"form.card_num"}})],1)],1)],1),e._v(" "),s("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{attrs:{size:"small"},on:{click:function(t){e.visible=!1}}},[e._v("取 消")]),e._v(" "),s("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.onSubmit}},[e._v("确 定")])],1)],1)},[],!1,null,null,null));m.options.__file="machineDialog.vue";var _=m.exports,u={name:"system_intellect_machine",components:{Pagination:l.a,MachineDialog:_},data:function(){return{loading:!1,machineList:[],paginate:{page:1,page_size:10,total:0},machineDialog:{show:!1,editData:null}}},computed:{},created:function(){this.getMachine()},mounted:function(){},methods:{getMachine:function(){var e=this;Object(i.c)(this.paginate.page,this.paginate.page_size).then(function(t){e.machineList=t.success.data.data})},addMachine:function(){this.machineDialog={show:!0,editData:null}},editMachine:function(e){var t={id:e.id,name:e.name,printer_no:e.printer_no,printer_code:e.printer_code,card_num:e.card_num};this.machineDialog={show:!0,editData:t}},delMachine:function(e){var t=this;this.$confirm("是否确定删除该打印机?","温馨提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",center:!0}).then(function(){Object(i.b)(e).then(function(){t.$message({message:"删除成功",type:"warning"}),t.getMachine()})}).catch(function(){})}}},p=(s("GoIK"),Object(a.a)(u,function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"app-container system-intellect-machine-page"},[s("div",{staticClass:"search-box"},[s("el-button",{staticClass:"fr",attrs:{type:"primary"},on:{click:e.addMachine}},[e._v("新增打印机")])],1),e._v(" "),s("el-table",{staticStyle:{width:"100%"},attrs:{data:e.machineList,stripe:""}},[s("el-table-column",{attrs:{type:"index",width:"50"}}),e._v(" "),s("el-table-column",{attrs:{prop:"name",label:"名称"}}),e._v(" "),s("el-table-column",{attrs:{prop:"printer_no",label:"编号"}}),e._v(" "),s("el-table-column",{attrs:{prop:"printer_code",label:"识别码"}}),e._v(" "),s("el-table-column",{attrs:{prop:"card_num",label:"流量卡号"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n        "+e._s(t.row.card_num||"-")+"\n      ")]}}])}),e._v(" "),s("el-table-column",{attrs:{label:"操作",width:"300"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-button",{attrs:{size:"mini"},on:{click:function(s){e.editMachine(t.row)}}},[e._v("编辑")]),e._v(" "),s("el-button",{attrs:{size:"mini"},on:{click:function(s){e.delMachine(t.row.id)}}},[e._v("删除")])]}}])})],1),e._v(" "),s("pagination",{directives:[{name:"show",rawName:"v-show",value:e.paginate.total>0,expression:"paginate.total>0"}],staticClass:"pagination",attrs:{total:e.paginate.total,page:e.paginate.page,limit:e.paginate.page_size},on:{"update:page":function(t){e.$set(e.paginate,"page",t)},"update:limit":function(t){e.$set(e.paginate,"page_size",t)},pagination:e.getMachine}}),e._v(" "),e.machineDialog.show?s("machine-dialog",{ref:"machineDialog",attrs:{show:e.machineDialog.show,data:e.machineDialog.editData},on:{"update:show":function(t){e.$set(e.machineDialog,"show",t)},updateList:e.getMachine}}):e._e()],1)},[],!1,null,null,null));p.options.__file="machine.vue";var v={name:"system_intellect_index",components:{Setting:o,Machine:p.exports},data:function(){return{activeName:"setting",tabList:[{name:"setting",label:"打印机设置"},{name:"machine",label:"打印机管理"}]}}},d=(s("RxE9"),Object(a.a)(v,function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"app-container system-intellect-page"},[s("el-card",{staticClass:"card-box mb-15",attrs:{shadow:"always"}},[s("el-tabs",{model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},e._l(e.tabList,function(t,i,n){return s("el-tab-pane",{key:n,attrs:{label:t.label,name:t.name}},[e.activeName===t.name?s(t.name,{tag:"component",attrs:{activeName:e.activeName}}):e._e()],1)}))],1)],1)},[],!1,null,null,null));d.options.__file="index.vue";t.default=d.exports},ppKh:function(e,t,s){"use strict";s.d(t,"f",function(){return n}),s.d(t,"d",function(){return a}),s.d(t,"c",function(){return r}),s.d(t,"a",function(){return o}),s.d(t,"b",function(){return l}),s.d(t,"e",function(){return c});var i=s("t3Un");function n(e){return Object(i.a)({url:"system/feie/printer",method:"post",data:e})}function a(){return Object(i.a)({url:"system/feie/printer",method:"get",params:{}})}function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;return Object(i.a)({url:"system/feie/machine",method:"get",params:{page:e,page_size:t}})}function o(e){var t=e.id,s=e.name,n=e.printer_no,a=e.printer_code,r=e.card_num;return Object(i.a)({url:"system/feie/machine",method:"post",data:{id:t,name:s,printer_no:n,printer_code:a,card_num:r}})}function l(e){return Object(i.a)({url:"system/feie/machine/"+e,method:"delete",data:{}})}function c(e,t){return Object(i.a)({url:"feie/printer",method:"post",data:{order_id:e,machine_id:t}})}},skFf:function(e,t,s){"use strict";var i=s("NAw2");s.n(i).a},tuOI:function(e,t,s){}}]);