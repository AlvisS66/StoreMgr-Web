(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-c030"],{"+qLU":function(e,t,a){},"0j2k":function(e,t,a){"use strict";var o=a("AW7t");a.n(o).a},"12Pl":function(e,t,a){"use strict";var o=a("DRUw");a.n(o).a},"9TWx":function(e,t,a){"use strict";var o=a("R8i+");a.n(o).a},AW7t:function(e,t,a){},DRUw:function(e,t,a){},FFIB:function(e,t,a){"use strict";var o=a("+qLU");a.n(o).a},PT98:function(e,t,a){"use strict";var o=a("vSDb");a.n(o).a},"R8i+":function(e,t,a){},Y5bG:function(e,t,a){"use strict";a.d(t,"a",function(){return i}),Math.easeInOutQuad=function(e,t,a,o){return(e/=o/2)<1?a/2*e*e+t:-a/2*(--e*(e-2)-1)+t};var o=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)};function i(e,t,a){var i=document.documentElement.scrollTop||document.body.parentNode.scrollTop||document.body.scrollTop,s=e-i,n=0;t=void 0===t?500:t;!function e(){n+=20,function(e){document.documentElement.scrollTop=e,document.body.parentNode.scrollTop=e,document.body.scrollTop=e}(Math.easeInOutQuad(n,i,s,t)),n<t?o(e):a&&"function"==typeof a&&a()}()}},hl0C:function(e,t,a){"use strict";a.r(t);var o=a("EPZ6"),i=a.n(o),s=a("unDg"),n=a.n(s),l=a("6ZY3"),c=a.n(l),r=a("Mz3J"),m=a("t3Un");function u(e){return Object(m.a)({url:"system/percentage/"+e,method:"delete"})}var d={name:"synchrodata-dialog",props:{visible:{type:Boolean,default:!1},activeName:{type:String,default:0}},components:{Pagination:r.a},data:function(){return{editDialog:{listLoading:!0,show:!1,editTitle:["商品提成列表","服务提成列表","次卡提成列表","储值卡提成列表","余额提成列表"],placeholder:["提成方案","提成方案","提成方案","提成方案","提成方案"]},multipleSelection:[],goodsList:[],listQuery:{search:void 0,page:1,limit:10,is_sync:1,type:this.activeName},total:0,layout:"sizes, jumper, next, pager, prev, total"}},methods:{handleSearch:function(){this.listQuery.page=1,this.getGoodsList()},handleSelectionChange:function(e){this.multipleSelection=e},handleOperateSyncMultiple:function(){var e=this;0!=this.multipleSelection.length?this.$confirm("确定是否批量同步已选择的"+this.multipleSelection.length+"种提成方案?","温馨提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",center:!0}).then(function(){console.log(e.multipleSelection);var t=[];e.multipleSelection.forEach(function(e,a){t.push(e.id)});var a=t.join(",");e.operateSyncData({id:a,is_sync:1})}).catch(function(e){}):this.$message.warning("请选择提成方案进行操作")},handleOperateSync:function(e){var t=this,a=e.id,o=e.is_sync,i=o?"取消该同步":"同步该";this.$confirm("确定是否"+i+"提成方案?","温馨提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",center:!0}).then(function(){console.log(e),o=0==o?1:0,t.operateSyncData({id:a,is_sync:o})}).catch(function(e){})},operateSyncData:function(e){var t=this;(function(e){return Object(m.a)({url:"system/percentage/operatesync",method:"post",data:e})})(e).then(function(e){t.getGoodsList(),t.$message.success("同步成功")}).catch(function(e){console.log(e)})},getGoodsList:function(){var e=this;(function(e){return Object(m.a)({url:"system/percentage/syncdata",method:"post",data:e})})(this.listQuery).then(function(t){var a=t.success.data;console.log("提成方案同步列表",a);var o=a.info;e.goodsList=[].concat(n()(o.data)),e.total=o.total,e.editDialog.listLoading=!1,console.log("synchrodata-dialog")}).catch(function(e){console.log(e)})}},created:function(){},mounted:function(){},computed:{show:{get:function(){return this.visible},set:function(e){this.$emit("update:visible",e)}}},watch:{show:function(e){e&&(this.editDialog.listLoading=!0,this.getGoodsList())}}},p=(a("12Pl"),a("0j2k"),a("ZrdR")),f=Object(p.a)(d,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container synchrodata-commission"},[a("el-dialog",{staticClass:"edit-dialog",attrs:{visible:e.show,top:"0",center:""},on:{"update:visible":function(t){e.show=t}}},[a("div",{staticClass:"dialog-title",attrs:{slot:"title"},slot:"title"},[a("button",{staticClass:"header-close-btn",attrs:{type:"button","aria-label":"Close"},on:{click:function(t){e.show=!1}}},[a("svg-icon",{attrs:{"icon-class":"back"}})],1),e._v(" "),a("span",[e._v(e._s(e.editDialog.editTitle[e.activeName]))])]),e._v(" "),a("el-scrollbar",{staticClass:"scrollbar"},[a("div",{staticClass:"pr-10"},[a("div",{staticClass:"clearfix Sync_Operate"},[a("el-button",{staticClass:"fl",attrs:{plain:""},on:{click:e.handleOperateSyncMultiple}},[e._v("\n            批量同步\n          ")]),e._v(" "),a("el-input",{staticClass:"fr search",attrs:{placeholder:e.editDialog.placeholder[e.activeName],"prefix-icon":"el-icon-search",clearable:""},on:{change:e.handleSearch},model:{value:e.listQuery.search,callback:function(t){e.$set(e.listQuery,"search",t)},expression:"listQuery.search"}})],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.editDialog.listLoading,expression:"editDialog.listLoading"}],ref:"goodsList",staticClass:"goods_list",staticStyle:{width:"100%"},attrs:{data:e.goodsList,fit:"",stripe:""},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{align:"left",type:"index",width:"40px"}}),e._v(" "),a("el-table-column",{attrs:{align:"left",type:"selection",width:"30px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"name",label:"提成方案","show-overflow-tooltip":""}}),e._v(" "),a("el-table-column",{attrs:{align:"left",label:"状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.is_sync?"同步":"未同步"))])]}}])}),e._v(" "),a("el-table-column",{attrs:{width:"170",align:"left",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"primary",plain:1==t.row.is_sync},on:{click:function(a){e.handleOperateSync(t.row)}}},[e._v(e._s(t.row.is_sync?"同步取消":"同步"))])]}}])})],1),e._v(" "),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],staticClass:"pagination",attrs:{layout:e.layout,total:e.total,page:e.listQuery.page,limit:e.listQuery.limit},on:{"update:page":function(t){e.$set(e.listQuery,"page",t)},"update:limit":function(t){e.$set(e.listQuery,"limit",t)},pagination:e.getGoodsList}})],1)])],1)],1)},[],!1,null,"b8dc0cba",null);f.options.__file="synchrodata-commission-dialog.vue";var h=f.exports,_=(a("7Qib"),a("RYct")),v={name:"case_table",components:{Pagination:r.a,synchrodataCommissionDialog:h},props:["activeName"],data:function(){return{listLoading:!0,caseList:[],multipleSelection:[],rules:{name:[{required:!0,trigger:"blur",message:"提成方案不能为空"}],max_amount:[{required:!0,trigger:"blur"},{validator:function(e,t,a){""==t||void 0==t?a():/^[0-9]*$/.test(t)?a():a(new Error)},trigger:"blur"}],amount:[{required:!0,trigger:"blur"},{validator:function(e,t,a){""==t||void 0==t?a():(console.log(t),/^(\-|\+)?\d+(\.\d+)?$/.test(t)?a():(_.Message.error("提成格式不正确"),a(new Error)))},trigger:"blur"}]},synchrodataDialog:{show:!1},editDialog:{show:!1,innerEditVisible:!1,innerSelectEditVisible:!1,createEditVisible:!1},createTemp:{name:void 0,type:this.activeName},staffList:[],editTemp:{valid:0,id:void 0,staffInfo:[],cateData:[],checkAll:void 0,checkGroupALL:{},checkStaffs:[],staffList:[],saleCommission:[],laborCommission:[],saleCommissionData:[],commissionForm:[],item:{name:""}},specTemp:{type:void 0,filter:{scheme_id:void 0,category_id:void 0,search:void 0,page:1,limit:10},specList:[],itemInfo:[],itemInfo_g:[],specCommissionList:[]},editName:["商品","服务","计次卡","储值卡","金额区间"],listQuery:{type:this.activeName,search:void 0,page:1,limit:10},total:0,layout:"sizes, jumper, next, pager, prev, total"}},methods:{handleSearch:function(){this.listQuery.page=1,this.getCommissionCaseList()},handleSelectionChange:function(e){this.multipleSelection=e},resetCreateTemp:function(){this.createTemp={name:void 0,type:this.activeName}},resetEditTemp:function(){this.editTemp={valid:0,id:void 0,staffInfo:[],cateData:[],checkAll:void 0,checkGroupALL:{},checkStaffs:[],staffList:[],saleCommission:[],laborCommission:[],saleCommissionData:[],commissionForm:[],item:{name:""}}},resetEditSpecTemp:function(){this.specTemp={type:void 0,filter:{scheme_id:void 0,category_id:void 0,search:void 0,page:1,limit:10},specList:[],itemInfo:[],itemInfo_g:[],specCommissionList:[]}},resetComissionData:function(e){if(4==this.activeName){var t=e.amount,a=e.id,o=e.min_amount,i=e.max_amount,s=e.mode;return{amount:t,id:a,min_amount:o,max_amount:i,mode:s}}var n=e.fd_guest_amount,l=e.fd_member_amount,c=e.guest_amount,r=e.member_amount,m=e.mode;return{fd_guest_amount:n,fd_member_amount:l,guest_amount:c,member_amount:r,mode:m,category_id:e.category_id,id:e.id,item_id:e.item_id,scheme_id:e.scheme_id,type:e.type}},resetCreateComissionData:function(){return{fd_guest_amount:0,fd_member_amount:0,guest_amount:0,member_amount:0}},formatComissionData:function(e){if(4==this.activeName){var t=e.amount;e.mode;return{amount:t}}var a=e.fd_guest_amount,o=e.fd_member_amount,i=e.guest_amount,s=e.member_amount;e.mode;return{fd_guest_amount:a,fd_member_amount:o,guest_amount:i,member_amount:s}},handleCommand:function(e){var t=this;this.multipleSelection.length?this.$confirm("确认删除此方案？?","温馨提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",center:!0}).then(function(){t.handledelCase()}).catch(function(e){}):this.$message.warning("请选择提成方案")},handledelCase:function(){var e=this;console.log(this.multipleSelection);var t=[];this.multipleSelection.forEach(function(e,a){t.push(e.id)}),u(t.join(",")).then(function(t){e.getCommissionCaseList(),e.$message.success("删除成功")}).catch(function(e){console.log(e)})},handleDelete:function(e){var t=this;this.$confirm("确认删除此方案？?","温馨提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",center:!0}).then(function(){u(e.id).then(function(e){t.getCommissionCaseList(),t.$message.success("删除成功")}).catch(function(e){console.log(e)})}).catch(function(e){})},handleAdd:function(){var e=this;this.resetCreateTemp(),this.editDialog.createEditVisible=!0,this.$nextTick(function(){e.$refs.createForm.clearValidate()})},createData:function(){var e=this;this.$refs.createForm.validate(function(t){t&&function(e){return Object(m.a)({url:"system/percentage",method:"post",data:e})}(e.createTemp).then(function(t){e.getCommissionCaseList(),e.editDialog.createEditVisible=!1,e.$message.success("新建成功")}).catch(function(e){console.log(e)})})},handleEdit:function(e){var t=this;console.log("提成方案",e),this.resetEditTemp();var a=e.id,o=a;(function(e){return Object(m.a)({url:"system/percentage/"+e+"/edit",method:"get"})})(a).then(function(e){var i=e.success.data;console.log("提成编辑",i);var s=[],n=[],l=[],r=i.cateData,m=i.perData,u=m.name,d=m.user_per,p=m.per_cate,f=m.per_recharge;if(d.length&&d.forEach(function(e){var t=e.user,a=t.id,o=t.realname,i=t.avatar_url;s.push({staff_user_id:a,realname:o,avatar_url:i})}),4==t.activeName){if(f.length){f.forEach(function(e){var a=t.resetComissionData(e);n.push(a)});var h=n.length-1;n[h].max_amount="无限"}}else if(p.length){var _=p[0],v=p[1];r.forEach(function(e,a){var o=e.name,i=e.id;if(_[i]){var s=t.resetComissionData(_[i]),r=t.resetComissionData(v[i]),m=c()({},s,{name:o}),u=c()({},r,{name:o});n.push(m),l.push(u)}})}else r&&r.forEach(function(e,a){var i=e.name,s=e.id,r=t.resetCreateComissionData(),m=c()({},{category_id:s,scheme_id:o,name:i,mode:0,type:0},r),u=c()({},m,{type:1});n.push(m),l.push(u)});t.editTemp=c()({},t.editTemp,{id:a,staffInfo:s,saleCommission:n,laborCommission:l,item:{name:u}}),console.log("提成Temp",t.editTemp),t.editDialog.show=!0,t.$nextTick(function(){t.$refs.scrollbar.wrap.scrollTop=0,t.$refs.editForm.clearValidate()})}).catch(function(e){console.log(err)})},handleUpdateData:function(){var e=this;console.log("提成editTemp",this.editTemp),this.$refs.editForm.validate(function(t){if(t){var a=[],o=[],i=e.editTemp,s=i.id,l=i.staffInfo,r=i.saleCommission,u=i.laborCommission,d=[].concat(n()(r),n()(u));if(l.forEach(function(e){a.push(e.staff_user_id)}),a=a.join(","),d.forEach(function(t){var a=e.formatComissionData(t),i=c()({},t,a);o.push(i)}),4==e.activeName){var p=o.length-1;o[p].max_amount=0,e.editTemp.item=c()({},e.editTemp.item,{user_ids:a,rechargeData:o}),console.log(e.editTemp.item),function(e,t){return Object(m.a)({url:"system/percentage/updateRecharge/"+e,method:"post",data:t})}(s,e.editTemp.item).then(function(t){e.editDialog.show=!1,e.getCommissionCaseList(),e.$message.success("保存成功")}).catch(function(e){console.log(e)})}else e.editTemp.item=c()({},e.editTemp.item,{user_ids:a,per_cate:o}),console.log(e.editTemp.item),function(e,t){return Object(m.a)({url:"system/percentage/"+e,method:"patch",data:t})}(s,e.editTemp.item).then(function(t){e.editDialog.show=!1,e.getCommissionCaseList(),e.$message.success("保存成功")}).catch(function(e){console.log(e)})}})},handleSpecEdit:function(e){var t=this;this.resetEditSpecTemp();var a=e.scheme_id,o=e.category_id,i=e.type;this.specTemp.type=i,this.specTemp.filter=c()({},this.specTemp.filter,{scheme_id:a,category_id:o,type:i}),console.log("特殊提成specTemp",this.specTemp),this.getSpecCommissionCaseList().then(function(e){t.editDialog.innerEditVisible=!0,t.$nextTick(function(){t.$refs.scrollbar_spec.wrap.scrollTop=0,t.$refs.editSpecForm.clearValidate()})})},handleAddSpecItem:function(e){if(e){console.log(e);var t=e.catename,a=e.id,o=e.name,i=e.price,s=this.specTemp.type,n=this.specTemp.filter,l=n.scheme_id,r=n.category_id,m=this.resetCreateComissionData(),u=c()({},{name:o,catename:t,price:i,item_id:a,scheme_id:l,category_id:r,mode:0,type:s},m),d=this.specTemp.specList.length,p=this.specTemp.specList.findIndex(function(t){return t.item_id==e.id&&t.hasOwnProperty("is_del")});p>0&&(d=p,u=c()({},{id:this.specTemp.specList[d].id},u)),this.specTemp.specList.splice(d,1,u);var f=this.specTemp.itemInfo.findIndex(function(t){return t.id==e.id});this.specTemp.itemInfo.splice(f,1),console.log("特殊提成temp",this.specTemp)}},handleDelSpecItem:function(e){console.log(e);var t=e.item_id,a=this.specTemp.itemInfo_g.find(function(e){return e.id==t}),o=this.specTemp.itemInfo.length,i=e.hasOwnProperty("id"),s=this.specTemp.specList.indexOf(e);if(console.log(a),this.specTemp.itemInfo.splice(o,1,a),i){var n=c()({},e,{is_del:1});this.specTemp.specList.splice(s,1,n)}else this.specTemp.specList.splice(s,1);console.log("特殊折扣temp",this.specTemp)},handleUpdateSpecData:function(){var e=this;this.$refs.editSpecForm.validate(function(t){if(t){var a=[],o=e.specTemp.filter,i=o.scheme_id,s=o.category_id;e.specTemp.specList.forEach(function(t){var o=e.formatComissionData(t),i=c()({},t,o);a.push(i)}),function(e){return Object(m.a)({url:"system/percentage/specialstore",method:"post",data:e})}({scheme_id:i,category_id:s,specdata:a}).then(function(t){e.editDialog.innerEditVisible=!1,e.$message.success("保存成功")}).catch(function(e){console.log(e)})}})},handleSelectEdit:function(){var e=this;(function(e){return Object(m.a)({url:"system/percentage/user",method:"post",data:e})})().then(function(t){var a=t.success.data;console.log("选择员工",a),e.staffList=a;var o={};e.editTemp.checkStaffs=[],e.editTemp.staffInfo.forEach(function(t){e.editTemp.checkStaffs.push(t.staff_user_id)}),e.staffList.forEach(function(t,a){if(t.staff.length){var i=t.staff.every(function(t){return e.editTemp.checkStaffs.includes(t.staff_user_id)});o[a]=i}}),e.editTemp.checkGroupALL=o,e.changeCheckAllStatus(o),e.editDialog.innerSelectEditVisible=!0,e.$nextTick(function(){e.$refs.scrollbar_select.wrap.scrollTop=0})}).catch(function(e){console.log(e)})},handleCheckGroupALLChange:function(e,t,a){var o=this,i=[];e.forEach(function(e){i.push(e.staff_user_id)}),a?i.forEach(function(e){if(o.editTemp.checkStaffs.indexOf(e)<0){var t=o.editTemp.checkStaffs.length;o.editTemp.checkStaffs.splice(t,1,e)}}):i.forEach(function(e){var t=o.editTemp.checkStaffs.indexOf(e);t>=0&&o.editTemp.checkStaffs.splice(t,1)}),console.log(a),console.log(this.editTemp.checkStaffs)},handleCheckAll:function(e){if(console.log(this.editTemp.checkAll),e){var t=[];this.staffList.forEach(function(e,a){e.staff.forEach(function(e,a){var o=e.staff_user_id;t.push(o)})}),this.editTemp.checkStaffs=t,this.changeCheckStatus()}else this.editTemp.checkStaffs.splice(0),this.changeCheckStatus()},handleCheckStaffChange:function(e,t){var a=this,o=e.every(function(e){return a.editTemp.checkStaffs.includes(e.staff_user_id)});this.editTemp.checkGroupALL[t]=o,console.log(this.editTemp.checkStaffs)},changeCheckStatus:function(){var e=this;this.staffList.forEach(function(t,a){t.staff.length&&e.handleCheckStaffChange(t.staff,a)})},changeCheckAllStatus:function(e){var t=i()(e).every(function(t){return 1==e[t]});this.editTemp.checkAll=t},handleUpdateStaffs:function(){var e=this,t=[];this.editTemp.checkStaffs.forEach(function(a){e.staffList.forEach(function(e,o){var i=e.staff.filter(function(e){return e.staff_user_id==a});i.length&&(t=[].concat(n()(t),n()(i)))})}),this.editTemp.staffInfo=[].concat(n()(t)),console.log(this.editTemp.staffInfo),this.$nextTick(function(){e.editDialog.innerSelectEditVisible=!1})},handleDelAmountRange:function(e){var t=this;console.log(e);var a=this.editTemp.saleCommission.indexOf(e),o=e.id,i=e.min_amount;if(o){var s=c()({},e,{is_del:1});this.editTemp.saleCommission.splice(a,1,s);try{this.editTemp.saleCommission.forEach(function(e,o){if(o>a&&!e.hasOwnProperty("is_del"))throw t.editTemp.saleCommission[o].min_amount=i,new Error("ending")})}catch(e){console.log(this.editTemp.saleCommission)}}else{this.editTemp.saleCommission.splice(a,1);try{this.editTemp.saleCommission.forEach(function(e,o){if(o>=a&&!e.hasOwnProperty("is_del"))throw t.editTemp.saleCommission[o].min_amount=i,new Error("ending")})}catch(e){console.log(this.editTemp.saleCommission)}}},handleChangeRange:function(e){var t=this.editTemp.saleCommission.indexOf(e),a=e.max_amount;if(a<=e.min_amount)this.$message.warning("提成点格式错误");else{var o=Number(a),i=this.editTemp.saleCommission.length-1;this.editTemp.saleCommission.map(function(e,a){if(a>t&&!e.hasOwnProperty("is_del"))return e.min_amount=o+1,a!=i?(e.max_amount=o+1e3,void(o=e.max_amount)):void(e.max_amount="无限")})}},handleAddAmountRange:function(){var e=this.editTemp.saleCommission.length;if(e){var t=this.editTemp.saleCommission[e-1],a=(t.amount,t.min_amount),o=1e3*(parseInt(Number(a)/1e3)+1);this.editTemp.saleCommission[e-1].max_amount=o,this.$set(this.editTemp.saleCommission,e,{amount:0,mode:0,min_amount:o+1,max_amount:"无限"}),console.log(this.editTemp.saleCommission)}else this.$set(this.editTemp.saleCommission,e,{amount:0,mode:0,min_amount:0,max_amount:"无限"})},getCommissionCaseList:function(){var e=this;(function(e){return Object(m.a)({url:"system/percentage/list",method:"post",data:e})})(this.listQuery).then(function(t){var a=t.success.data;console.log("提成方案",a);var o=a.info;e.caseList=[].concat(n()(o.data)),e.total=o.total,e.$nextTick(function(){e.listLoading=!1})}).catch(function(e){console.log(e)})},getSpecCommissionCaseList:function(){var e=this;return function(e){return Object(m.a)({url:"system/percentage/special",method:"post",data:e})}(this.specTemp.filter).then(function(t){var a=t.success.data;console.log("特殊提成",a);var o=a.info,i=a.itemInfo,s=[].concat(n()(i)),l=o.data,r=[],m=l.map(function(e){return e.item_id});return console.log("item_ids",m),m.forEach(function(e){var t=i.findIndex(function(t){return t.id==e});i.splice(t,1)}),l.forEach(function(t,a){var o=t.price,i=t.name,s=t.catename,n=c()({},{price:o,name:i,catename:s},e.resetComissionData(t));r.push(n)}),e.specTemp=c()({},e.specTemp,{specList:r,itemInfo:i,itemInfo_g:s}),console.log(e.specTemp),a}).catch(function(e){console.log(e)})}},computed:{saleCommissionData:function(){return this.editTemp.saleCommission.filter(function(e){return e.hasOwnProperty("id")&&1!=e.is_del||!e.hasOwnProperty("id")})},checkGroupALLStatus:function(){return this.editTemp.checkGroupALL},specCommissionList:function(){return this.specTemp.specList.filter(function(e){return!e.hasOwnProperty("is_del")})},syncDialogShow:function(){return this.synchrodataDialog.show}},watch:{saleCommissionData:function(e,t){this.editTemp.saleCommissionData=e,console.log(e)},checkGroupALLStatus:{handler:function(e,t){this.changeCheckAllStatus(e)},deep:!0},specCommissionList:function(e,t){this.specTemp.specCommissionList=e},syncDialogShow:function(e,t){e||this.getCommissionCaseList()}},created:function(){this.getCommissionCaseList()},mounted:function(){}},b=(a("FFIB"),a("9TWx"),Object(p.a)(v,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container system_case_table"},[a("div",{staticClass:"table-top-area"},[a("div",{staticClass:"dropdown-box fl"},[a("el-dropdown",{attrs:{trigger:"click",placement:"bottom-start"},on:{command:e.handleCommand}},[a("el-button",{attrs:{plain:""}},[e._v("\n          批量操作"),a("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),e._v(" "),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",{attrs:{command:"del"}},[e._v("删除")])],1)],1)],1),e._v(" "),a("div",{staticClass:"fr"},[a("el-input",{staticClass:"fl search",attrs:{placeholder:"提成方案","prefix-icon":"el-icon-search",clearable:""},on:{change:e.handleSearch},model:{value:e.listQuery.search,callback:function(t){e.$set(e.listQuery,"search",t)},expression:"listQuery.search"}}),e._v(" "),a("el-button",{staticClass:"fl add_member",attrs:{type:"primary"},on:{click:e.handleAdd}},[e._v("新增方案")]),e._v(" "),a("el-button",{staticClass:"fr",attrs:{plain:""},on:{click:function(t){e.synchrodataDialog.show=!0}}},[e._v("\n        同步总部数据\n      ")]),e._v(" "),a("el-popover",{staticClass:"fr sync_tips",attrs:{placement:"bottom",width:"200",trigger:"hover",content:"同步总部提成列表。"}},[a("i",{staticClass:"el-icon-question",attrs:{slot:"reference"},slot:"reference"})])],1)]),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],staticStyle:{width:"100%"},attrs:{data:e.caseList,"tooltip-effect":"dark"},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"index",width:"50"}}),e._v(" "),a("el-table-column",{attrs:{type:"selection",width:"55"}}),e._v(" "),a("el-table-column",{attrs:{prop:"name",label:"提成方案","show-overflow-tooltip":""}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",width:"300"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){e.handleEdit(t.row)}}},[e._v("编辑")]),e._v(" "),a("el-button",{attrs:{size:"mini"},on:{click:function(a){e.handleDelete(t.row)}}},[e._v("删除")])]}}])})],1),e._v(" "),a("el-dialog",{staticClass:"edit-dialog",attrs:{visible:e.editDialog.show,top:"0",center:""},on:{"update:visible":function(t){e.$set(e.editDialog,"show",t)}}},[a("div",{staticClass:"dialog-title",attrs:{slot:"title"},slot:"title"},[a("button",{staticClass:"header-close-btn",attrs:{type:"button","aria-label":"Close"},on:{click:function(t){e.editDialog.show=!1}}},[a("svg-icon",{attrs:{"icon-class":"back"}})],1),e._v(" "),a("span",[e._v("编辑提成方案")])]),e._v(" "),a("el-scrollbar",{ref:"scrollbar",staticClass:"scrollbar"},[a("el-form",{ref:"editForm",staticClass:"edit-form",attrs:{model:e.editTemp,"label-width":"80px",rules:e.rules,"show-message":!0}},[a("el-form-item",{attrs:{label:"提成方案",prop:"item.name",rules:e.rules.name}},[a("el-input",{staticClass:"case_name",model:{value:e.editTemp.item.name,callback:function(t){e.$set(e.editTemp.item,"name",t)},expression:"editTemp.item.name"}})],1),e._v(" "),a("el-form-item",{staticClass:"staff-form-item",attrs:{label:"适配员工"}},[e._l(e.editTemp.staffInfo,function(t,o,i){return a("div",{key:i,staticClass:"member_name fl"},[a("span",{staticClass:"avatar_img"},[a("img",{directives:[{name:"avatar",rawName:"v-avatar",value:[t.avatar_url,t.gender],expression:"[item.avatar_url,item.gender]"}]})]),e._v("\n            "+e._s(t.realname)+"\n          ")])}),e._v(" "),a("el-button",{staticClass:"fl select_btn",attrs:{plain:""},on:{click:e.handleSelectEdit}},[e._v("选择适配员工")])],2),e._v(" "),0==e.activeName||1==e.activeName?a("el-form-item",{staticClass:"form_label",attrs:{label:"销售提成"}},[a("el-table",{ref:"commissionForm",staticClass:"commission_form",staticStyle:{width:"100%"},attrs:{data:e.editTemp.saleCommission,fit:"",stripe:""}},[a("el-table-column",{attrs:{label:e.editName[e.activeName]+"分类",prop:"name"}}),e._v(" "),a("el-table-column",{attrs:{label:"提成类型"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-select",{model:{value:t.row.mode,callback:function(a){e.$set(t.row,"mode",a)},expression:"scope.row.mode"}},e._l(["比例提成","固定提成"],function(e,t,o){return a("el-option",{key:o,attrs:{label:e,value:t}})}))]}}])}),e._v(" "),1==e.activeName?a("el-table-column",{attrs:{label:"会员非点客提成"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-form-item",{attrs:{prop:"saleCommissionData["+t.$index+"].fd_member_amount",rules:e.rules.amount}},[a("el-input",{model:{value:t.row.fd_member_amount,callback:function(a){e.$set(t.row,"fd_member_amount",a)},expression:"scope.row.fd_member_amount"}},[a("template",{slot:"append"},[e._v(e._s(0==t.row.mode?"%":"元"))])],2)],1)]}}])}):e._e(),e._v(" "),a("el-table-column",{attrs:{label:"会员"+[1==e.activeName?"点客":""]+"提成"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-form-item",{attrs:{prop:"saleCommissionData["+t.$index+"].member_amount",rules:e.rules.amount}},[a("el-input",{model:{value:t.row.member_amount,callback:function(a){e.$set(t.row,"member_amount",a)},expression:"scope.row.member_amount"}},[a("template",{slot:"append"},[e._v(e._s(0==t.row.mode?"%":"元"))])],2)],1)]}}])}),e._v(" "),1==e.activeName?a("el-table-column",{attrs:{label:"非会员非点客提成"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-form-item",{attrs:{prop:"saleCommissionData["+t.$index+"].fd_guest_amount",rules:e.rules.amount}},[a("el-input",{model:{value:t.row.fd_guest_amount,callback:function(a){e.$set(t.row,"fd_guest_amount",a)},expression:"scope.row.fd_guest_amount"}},[a("template",{slot:"append"},[e._v(e._s(0==t.row.mode?"%":"元"))])],2)],1)]}}])}):e._e(),e._v(" "),a("el-table-column",{attrs:{label:"非会员"+[1==e.activeName?"点客":""]+"提成"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-form-item",{attrs:{prop:"saleCommissionData["+t.$index+"].guest_amount",rules:e.rules.amount}},[a("el-input",{model:{value:t.row.guest_amount,callback:function(a){e.$set(t.row,"guest_amount",a)},expression:"scope.row.guest_amount"}},[a("template",{slot:"append"},[e._v(e._s(0==t.row.mode?"%":"元"))])],2)],1)]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{on:{click:function(a){e.handleSpecEdit(t.row)}}},[e._v("特殊提成")])]}}])})],1)],1):e._e(),e._v(" "),2==e.activeName||3==e.activeName?a("el-form-item",{staticClass:"form_label",attrs:{label:"销售提成"}},[a("el-table",{ref:"commissionForm",staticClass:"commission_form",staticStyle:{width:"100%"},attrs:{data:e.editTemp.saleCommission,fit:"",stripe:""}},[a("el-table-column",{attrs:{label:e.editName[e.activeName]+"分类",prop:"name"}}),e._v(" "),a("el-table-column",{attrs:{label:"提成类型"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-select",{model:{value:t.row.mode,callback:function(a){e.$set(t.row,"mode",a)},expression:"scope.row.mode"}},e._l(["比例提成","固定提成"],function(e,t,o){return a("el-option",{key:o,attrs:{label:e,value:t}})}))]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"初次办卡提成"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-form-item",{attrs:{prop:"saleCommissionData["+t.$index+"].guest_amount",rules:e.rules.amount}},[a("el-input",{model:{value:t.row.guest_amount,callback:function(a){e.$set(t.row,"guest_amount",a)},expression:"scope.row.guest_amount"}},[a("template",{slot:"append"},[e._v(e._s(0==t.row.mode?"%":"元"))])],2)],1)]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"再次办卡提成点"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-form-item",{attrs:{prop:"saleCommissionData["+t.$index+"].member_amount",rules:e.rules.amount}},[a("el-input",{model:{value:t.row.member_amount,callback:function(a){e.$set(t.row,"member_amount",a)},expression:"scope.row.member_amount"}},[a("template",{slot:"append"},[e._v(e._s(0==t.row.mode?"%":"元"))])],2)],1)]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{on:{click:function(a){e.handleSpecEdit(t.row)}}},[e._v("特殊提成")])]}}])})],1)],1):e._e(),e._v(" "),0==e.activeName||1==e.activeName?a("el-form-item",{staticClass:"form_label",attrs:{label:"手工提成"}},[a("el-table",{ref:"commissionForm",staticClass:"commission_form",staticStyle:{width:"100%"},attrs:{data:e.editTemp.laborCommission,fit:"",stripe:""}},[a("el-table-column",{attrs:{label:e.editName[e.activeName]+"分类",prop:"name"}}),e._v(" "),a("el-table-column",{attrs:{label:"提成类型"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-select",{model:{value:t.row.mode,callback:function(a){e.$set(t.row,"mode",a)},expression:"scope.row.mode"}},e._l(["比例提成","固定提成"],function(e,t,o){return a("el-option",{key:o,attrs:{label:e,value:t}})}))]}}])}),e._v(" "),1==e.activeName?a("el-table-column",{attrs:{label:"会员非点客提成"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-form-item",{attrs:{prop:"laborCommission["+t.$index+"].fd_member_amount",rules:e.rules.amount}},[a("el-input",{model:{value:t.row.fd_member_amount,callback:function(a){e.$set(t.row,"fd_member_amount",a)},expression:"scope.row.fd_member_amount"}},[a("template",{slot:"append"},[e._v(e._s(0==t.row.mode?"%":"元"))])],2)],1)]}}])}):e._e(),e._v(" "),a("el-table-column",{attrs:{label:"会员"+[1==e.activeName?"点客":""]+"提成"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-form-item",{attrs:{prop:"laborCommission["+t.$index+"].member_amount",rules:e.rules.amount}},[a("el-input",{model:{value:t.row.member_amount,callback:function(a){e.$set(t.row,"member_amount",a)},expression:"scope.row.member_amount"}},[a("template",{slot:"append"},[e._v(e._s(0==t.row.mode?"%":"元"))])],2)],1)]}}])}),e._v(" "),1==e.activeName?a("el-table-column",{attrs:{label:"非会员非点客提成"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-form-item",{attrs:{prop:"laborCommission["+t.$index+"].fd_guest_amount",rules:e.rules.amount}},[a("el-input",{model:{value:t.row.fd_guest_amount,callback:function(a){e.$set(t.row,"fd_guest_amount",a)},expression:"scope.row.fd_guest_amount"}},[a("template",{slot:"append"},[e._v(e._s(0==t.row.mode?"%":"元"))])],2)],1)]}}])}):e._e(),e._v(" "),a("el-table-column",{attrs:{label:"非会员"+[1==e.activeName?"点客":""]+"提成"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-form-item",{attrs:{prop:"laborCommission["+t.$index+"].guest_amount",rules:e.rules.amount}},[a("el-input",{model:{value:t.row.guest_amount,callback:function(a){e.$set(t.row,"guest_amount",a)},expression:"scope.row.guest_amount"}},[a("template",{slot:"append"},[e._v(e._s(0==t.row.mode?"%":"元"))])],2)],1)]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{on:{click:function(a){e.handleSpecEdit(t.row)}}},[e._v("特殊提成")])]}}])})],1)],1):e._e(),e._v(" "),4==e.activeName?a("el-form-item",{staticClass:"form_label",attrs:{label:"销售提成"}},[a("el-table",{ref:"commissionForm",staticClass:"commission_form",staticStyle:{width:"100%"},attrs:{data:this.editTemp.saleCommissionData,fit:"",stripe:""}},[a("el-table-column",{attrs:{label:"金额区间"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"commission_amount"},[a("el-input",{attrs:{disabled:!0},model:{value:t.row.min_amount,callback:function(a){e.$set(t.row,"min_amount",e._n(a))},expression:"scope.row.min_amount"}}),e._v(" "),a("span"),e._v(" "),a("el-form-item",{attrs:{prop:t.$index==e.editTemp.saleCommissionData.length-1?"valid":"saleCommissionData["+t.$index+"].max_amount",rules:e.rules.max_amount}},[a("el-input",{attrs:{disabled:t.$index==e.editTemp.saleCommissionData.length-1},on:{change:function(a){e.handleChangeRange(t.row)}},model:{value:t.row.max_amount,callback:function(a){e.$set(t.row,"max_amount",e._n(a))},expression:"scope.row.max_amount"}})],1)],1)]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"提成类型"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-select",{model:{value:t.row.mode,callback:function(a){e.$set(t.row,"mode",a)},expression:"scope.row.mode"}},e._l(["比例提成","金额提成"],function(e,t,o){return a("el-option",{key:o,attrs:{label:e,value:t}})}))]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"提成系数"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-form-item",{attrs:{prop:"saleCommissionData["+t.$index+"].amount",rules:e.rules.amount}},[a("el-input",{model:{value:t.row.amount,callback:function(a){e.$set(t.row,"amount",a)},expression:"scope.row.amount"}},[a("template",{slot:"append"},[e._v(e._s(0==t.row.mode?"%":"元"))])],2)],1)]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.$index!=e.editTemp.saleCommissionData.length-1?a("el-button",{on:{click:function(a){e.handleDelAmountRange(t.row)}}},[e._v("删除")]):e._e()]}}])})],1),e._v(" "),a("el-button",{staticClass:"add_btn",attrs:{type:"primary"},on:{click:e.handleAddAmountRange}},[e._v("\n            新增区间\n          ")])],1):e._e()],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.handleUpdateData}},[e._v("保存")])],1)],1),e._v(" "),a("el-dialog",{staticClass:"edit-dialog inne_order_detail",attrs:{visible:e.editDialog.innerEditVisible,top:"0",center:""},on:{"update:visible":function(t){e.$set(e.editDialog,"innerEditVisible",t)}}},[a("div",{staticClass:"dialog-title",attrs:{slot:"title"},slot:"title"},[a("button",{staticClass:"header-close-btn",attrs:{type:"button","aria-label":"Close"},on:{click:function(t){e.editDialog.innerEditVisible=!1}}},[a("svg-icon",{attrs:{"icon-class":"back"}})],1),e._v(" "),a("span",[e._v("特殊提成方案")])]),e._v(" "),a("el-scrollbar",{ref:"scrollbar_spec",staticClass:"scrollbar"},[a("div",[a("el-form",{ref:"editSpecForm",staticClass:"edit-form",attrs:{model:e.specTemp,rules:e.rules,"show-message":!1}},[a("div",{staticClass:"clearfix"},[a("el-input",{staticClass:"fr search",attrs:{placeholder:e.editName[e.activeName]+"名称","prefix-icon":"el-icon-search",clearable:""},on:{change:e.getSpecCommissionCaseList},model:{value:e.specTemp.filter.search,callback:function(t){e.$set(e.specTemp.filter,"search",t)},expression:"specTemp.filter.search"}})],1),e._v(" "),a("div",{staticClass:"specTable"},[a("el-table",{ref:"commissionForm",staticClass:"commission_form",staticStyle:{width:"100%"},attrs:{data:e.specTemp.specCommissionList,fit:"",stripe:""}},[a("el-table-column",{attrs:{label:e.editName[e.activeName]+"名称",prop:"name"}}),e._v(" "),a("el-table-column",{attrs:{label:"产品分类",prop:"catename"}}),e._v(" "),a("el-table-column",{attrs:{label:"单价",prop:"price"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e._f("formatMoney")(t.row.price)))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"提成类型"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-select",{model:{value:t.row.mode,callback:function(a){e.$set(t.row,"mode",a)},expression:"scope.row.mode"}},e._l(["比例提成","固定提成"],function(e,t,o){return a("el-option",{key:o,attrs:{label:e,value:t}})}))]}}])}),e._v(" "),1==e.activeName?a("el-table-column",{attrs:{label:"会员非点客提成"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-form-item",{attrs:{prop:"specCommissionList["+t.$index+"].fd_member_amount",rules:e.rules.amount}},[a("el-input",{model:{value:t.row.fd_member_amount,callback:function(a){e.$set(t.row,"fd_member_amount",a)},expression:"scope.row.fd_member_amount"}},[a("template",{slot:"append"},[e._v(e._s(0==t.row.mode?"%":"元"))])],2)],1)]}}])}):e._e(),e._v(" "),a("el-table-column",{attrs:{label:"会员"+[1==e.activeName?"点客":""]+"提成"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-form-item",{attrs:{prop:"specCommissionList["+t.$index+"].member_amount",rules:e.rules.amount}},[a("el-input",{model:{value:t.row.member_amount,callback:function(a){e.$set(t.row,"member_amount",a)},expression:"scope.row.member_amount"}},[a("template",{slot:"append"},[e._v(e._s(0==t.row.mode?"%":"元"))])],2)],1)]}}])}),e._v(" "),1==e.activeName?a("el-table-column",{attrs:{label:"非会员非点客提成"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-form-item",{attrs:{prop:"specCommissionList["+t.$index+"].fd_guest_amount",rules:e.rules.amount}},[a("el-input",{model:{value:t.row.fd_guest_amount,callback:function(a){e.$set(t.row,"fd_guest_amount",a)},expression:"scope.row.fd_guest_amount"}},[a("template",{slot:"append"},[e._v(e._s(0==t.row.mode?"%":"元"))])],2)],1)]}}])}):e._e(),e._v(" "),a("el-table-column",{attrs:{label:"非会员"+[1==e.activeName?"点客":""]+"提成"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-form-item",{attrs:{prop:"specCommissionList["+t.$index+"].guest_amount",rules:e.rules.amount}},[a("el-input",{model:{value:t.row.guest_amount,callback:function(a){e.$set(t.row,"guest_amount",a)},expression:"scope.row.guest_amount"}},[a("template",{slot:"append"},[e._v(e._s(0==t.row.mode?"%":"元"))])],2)],1)]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){e.handleDelSpecItem(t.row)}}},[e._v("删除")])]}}])})],1)],1),e._v(" "),a("el-dropdown",{attrs:{trigger:"click",placement:"bottom-start"},on:{command:e.handleAddSpecItem}},[a("el-button",{attrs:{type:"primary"}},[e._v("\n              选择产品名称"),a("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),e._v(" "),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[e.specTemp.itemInfo.length?e._e():a("el-dropdown-item",[e._v("暂无数据")]),e._v(" "),e._l(e.specTemp.itemInfo,function(t,o,i){return a("el-dropdown-item",{key:i,attrs:{command:t}},[e._v(e._s(t.name))])})],2)],1)],1)],1)]),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.handleUpdateSpecData}},[e._v("保存")])],1)],1),e._v(" "),a("el-dialog",{staticClass:"addStaff_dialog",attrs:{width:"768px",title:"选择员工",visible:e.editDialog.innerSelectEditVisible},on:{"update:visible":function(t){e.$set(e.editDialog,"innerSelectEditVisible",t)}}},[a("el-scrollbar",{ref:"scrollbar_select",staticClass:"scrollbar"},[a("div",e._l(e.staffList,function(t,o,i){return a("div",{key:i,staticClass:"check_box_staff"},[a("div",{staticClass:"check_all"},[a("el-checkbox",{attrs:{disabled:!t.staff.length},on:{change:function(a){e.handleCheckGroupALLChange(t.staff,o,a)}},model:{value:e.editTemp.checkGroupALL[o],callback:function(t){e.$set(e.editTemp.checkGroupALL,o,t)},expression:"editTemp.checkGroupALL[key]"}},[e._v(e._s(t.posName))])],1),e._v(" "),t.staff.length?[a("div",{staticClass:"check_Staff_list"},[a("el-checkbox-group",{nativeOn:{change:function(a){e.handleCheckStaffChange(t.staff,o)}},model:{value:e.editTemp.checkStaffs,callback:function(t){e.$set(e.editTemp,"checkStaffs",t)},expression:"editTemp.checkStaffs"}},e._l(t.staff,function(t,o,i){return a("el-checkbox",{key:i,attrs:{label:t.staff_user_id}},[e._v(e._s(t.realname))])}))],1)]:e._e()],2)}))]),e._v(" "),a("div",{staticClass:"dialog-footer",staticStyle:{"vertical-align":"middle"},attrs:{slot:"footer"},slot:"footer"},[a("div",{staticClass:"fl",staticStyle:{"vertical-align":"middle","margin-top":"10px"}},[a("el-checkbox",{on:{change:e.handleCheckAll},model:{value:e.editTemp.checkAll,callback:function(t){e.$set(e.editTemp,"checkAll",t)},expression:"editTemp.checkAll"}},[e._v("全选")])],1),e._v(" "),a("el-button",{on:{click:function(t){e.editDialog.innerSelectEditVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.handleUpdateStaffs}},[e._v("确 定")])],1)],1),e._v(" "),a("el-dialog",{staticClass:"create_dialog",attrs:{width:"420px",title:"新增方案",visible:e.editDialog.createEditVisible},on:{"update:visible":function(t){e.$set(e.editDialog,"createEditVisible",t)}}},[a("div",[a("el-form",{ref:"createForm",attrs:{"label-position":"right","label-width":"80px","show-message":!0,rules:e.rules,model:e.createTemp}},[a("el-form-item",{attrs:{label:"提成方案",prop:"name"}},[a("el-input",{model:{value:e.createTemp.name,callback:function(t){e.$set(e.createTemp,"name",t)},expression:"createTemp.name"}})],1)],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",staticStyle:{"vertical-align":"middle"},attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"mini"},on:{click:function(t){e.editDialog.createEditVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.createData}},[e._v("确 定")])],1)]),e._v(" "),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],staticClass:"pagination",attrs:{layout:e.layout,total:e.total,page:e.listQuery.page,limit:e.listQuery.limit},on:{"update:page":function(t){e.$set(e.listQuery,"page",t)},"update:limit":function(t){e.$set(e.listQuery,"limit",t)},pagination:e.getCommissionCaseList}}),e._v(" "),a("synchrodata-commission-dialog",{attrs:{visible:e.synchrodataDialog.show,activeName:e.activeName},on:{"update:visible":function(t){e.$set(e.synchrodataDialog,"show",t)}}})],1)},[],!1,null,"624a4bb6",null));b.options.__file="casetable.vue";var g={name:"system_commission",components:{casetable:b.exports},data:function(){return{activeTabName:"0",tabList:[{name:"0",label:"商品提成"},{name:"1",label:"服务提成"},{name:"2",label:"计次卡提成"},{name:"3",label:"储值卡提成"},{name:"4",label:"余额充值提成"}]}},methods:{}},w=(a("wXZH"),a("PT98"),Object(p.a)(g,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container system-commission-page"},[a("el-card",{staticClass:"card-box setting-box mb-15",attrs:{shadow:"always"}},[a("el-tabs",{staticClass:"common-tabs",model:{value:e.activeTabName,callback:function(t){e.activeTabName=t},expression:"activeTabName"}},e._l(e.tabList,function(t,o,i){return a("el-tab-pane",{key:i,attrs:{label:t.label,name:t.name}},[a("keep-alive",[e.activeTabName==t.name?a("casetable",{attrs:{activeName:e.activeTabName}}):e._e()],1)],1)}))],1)],1)},[],!1,null,"1d5fa4e9",null));w.options.__file="index.vue";t.default=w.exports},ouQV:function(e,t,a){},vSDb:function(e,t,a){},wXZH:function(e,t,a){"use strict";var o=a("ouQV");a.n(o).a}}]);